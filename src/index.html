<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Product Landing</title>
  <style>
    :root{
      --page-max: 1100px;
      --gap: 16px;
      --radius: 14px;
      --surface: #ffffff;
      --ink: #0e0f12;
      --muted: #667085;
      --accent: #3b82f6;
      --border: #e5e7eb;
      --shadow: 0 6px 18px rgba(0,0,0,.12);
    }

    /* Layout */
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;color:var(--ink);background:#fafafa}
    .container{max-width:var(--page-max);margin:auto;padding:28px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:24px}
    header .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    header nav a{margin-left:14px;text-decoration:none;color:var(--muted)}
    header nav a.active, header nav a:hover{color:var(--ink)}

    /* Hero carousel (simple + accessible) */
    .hero{position:relative;border-radius:var(--radius);overflow:hidden}
    .slides{display:grid}
    .slides > img{grid-area:1/1;width:100%;height:360px;object-fit:cover;display:none}
    .slides > img.active{display:block}
    .dots{position:absolute;left:50%;bottom:12px;transform:translateX(-50%);display:flex;gap:8px}
    .dot{width:8px;height:8px;border-radius:50%;background:#e5e7eb;cursor:pointer;border:0}
    .dot.active{background:var(--accent)}
    .hero .ctrl{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.85);border:0;
      width:36px;height:36px;border-radius:999px;cursor:pointer}
    .hero .prev{left:10px} .hero .next{right:10px}

    /* Dynamic blocks grid */
    .grid{
      margin-top:28px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:var(--gap);
      align-items:start; /* Align items to start for better layout */
    }
    
    /* Responsive grid adjustments */
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 12px;
      }
    }
    
    @media (max-width: 480px) {
      .grid {
        grid-template-columns: 1fr;
        gap: 8px;
      }
    }
    .card{
      position:relative;min-height:120px;padding:14px;display:flex;align-items:flex-end;
      color:#fff;background:#111;border:1px solid transparent;transition:transform .15s ease, box-shadow .15s ease, border-color .15s;
      background-size:cover;background-position:center;cursor:pointer;
      width:100%; /* Ensure full width within grid cell */
      box-sizing:border-box; /* Include padding in width calculation */
    }
    
    /* Override grid behavior for manually resized cards */
    .card.manually-resized{
      grid-column:span 1; /* Force single column span */
      width:auto !important; /* Allow manual width setting */
      min-width:150px; /* Minimum width constraint */
      max-width:500px; /* Maximum width constraint */
      border: 2px dashed rgba(59, 130, 246, 0.5) !important; /* Visual indicator */
    }
    
    /* Enhanced resize handle visibility for manually resized cards */
    .card.manually-resized .resize-handle{
      opacity: 1 !important; /* Always show handles for manually resized cards */
    }
    .card .tag{position:absolute;top:10px;left:10px;background:rgba(0,0,0,.65);padding:6px 10px;border-radius:999px;font-size:12px}
    .card .cta{background:#000000b5;padding:8px 12px;border-radius:8px;font-weight:600;font-size:14px;text-decoration:none;color:#fff}
    .card:hover{transform:translateY(-2px)}
    
    /* Enhanced resize handles for dynamic blocks */
    .resizable{position:relative;overflow:visible;}
    .resize-handle{
      position:absolute;width:16px;height:16px;
      background:rgba(59, 130, 246, 0.8);border:2px solid white;
      border-radius:50%;cursor:pointer;z-index:20;
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 2px 8px rgba(0,0,0,0.2);
      transition:all 0.2s ease;
    }
    .resize-handle::before{
      content:'â†—';color:white;font-size:10px;font-weight:bold;
    }
    .resize-handle:hover{
      background:rgba(59, 130, 246, 1);
      transform:scale(1.1);
      box-shadow:0 4px 12px rgba(0,0,0,0.3);
    }
    
    /* Multiple resize handles */
    .resize-handle.se{top:0;right:0;cursor:se-resize;}
    .resize-handle.sw{top:0;left:0;cursor:sw-resize;}
    .resize-handle.ne{bottom:0;right:0;cursor:ne-resize;}
    .resize-handle.nw{bottom:0;left:0;cursor:nw-resize;}
    .resize-handle.e{top:50%;right:0;transform:translateY(-50%);cursor:e-resize;}
    .resize-handle.w{top:50%;left:0;transform:translateY(-50%);cursor:w-resize;}
    .resize-handle.n{top:0;left:50%;transform:translateX(-50%);cursor:n-resize;}
    .resize-handle.s{bottom:0;left:50%;transform:translateX(-50%);cursor:s-resize;}
    
    /* Enhanced dynamic resizing */
    .card.resizable:hover .resize-handle{opacity:1;}
    .resize-handle{opacity:0;transition:opacity 0.3s ease;}
    
    /* Drag indicator */
    .card.dragging{opacity:0.7;transform:rotate(2deg);z-index:1000;}
    .card.drag-over{transform:scale(1.02);box-shadow:0 8px 25px rgba(0,0,0,0.15);}
    
    /* Flat style for admin demo */
    .flat-style{background:#000 !important;color:#fff !important;box-shadow:none !important;}

    /* Enhanced style variants */
    .rounded{border-radius:var(--radius)}
    .shadow{box-shadow:var(--shadow)}
    .flat{box-shadow:none}
    .with-border{border-color:var(--border);background-color:#fff;color:var(--ink)}
    .with-border .cta{background:#111;color:#fff}
    .no-border{border-color:transparent}
    
    /* Additional style presets */
    .style-modern{border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.1);}
    .style-minimal{border-radius:0;box-shadow:none;border:1px solid #e5e7eb;}
    .style-glass{background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.2);}
    .style-neon{box-shadow:0 0 20px rgba(59, 130, 246, 0.5);border:1px solid rgba(59, 130, 246, 0.3);}
    .style-gradient{background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);}
    .style-dark{background:#1a1a1a;color:#fff;border:1px solid #333;}
    
    /* Animation presets */
    .animate-bounce:hover{animation:bounce 0.6s ease;}
    .animate-pulse:hover{animation:pulse 1s ease-in-out;}
    .animate-rotate:hover{animation:rotate 0.5s ease;}
    
    @keyframes bounce{0%,20%,60%,100%{transform:translateY(0);}40%{transform:translateY(-10px);}80%{transform:translateY(-5px);}}
    @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
    @keyframes rotate{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}

    /* Background helpers */
    .bg-image{color:#fff}
    .bg-solid{background:#111;color:#fff}
    .bg-gradient{background:linear-gradient(135deg,#0ea5e9, #22c55e);color:#fff}

    /* "Admin" controls to demonstrate configurability */
    .panel{margin-top:28px;padding:20px;border:1px solid var(--border);background:#fff;border-radius:10px}
    .panel h3{margin:0 0 8px 0;color:var(--ink);font-size:18px}
    .panel p{margin:0 0 16px 0;color:var(--muted);font-size:14px}
    .control-group{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:16px;align-items:center}
    .panel label{font-size:14px;color:var(--muted);margin-right:8px;display:flex;align-items:center;gap:4px}
    .panel select, .panel input[type="checkbox"]{margin-right:12px;padding:4px 8px;border:1px solid var(--border);border-radius:4px}
    .panel input[type="checkbox"]{margin-right:4px}

    footer{margin:50px 0;color:var(--muted);font-size:14px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">ðŸŒ¿ HoneyCo</div>
      <nav>
        <a href="#" class="active">Home</a>
        <a href="#">Products</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
      </nav>
    </header>

    <!-- HERO / CAROUSEL -->
    <section class="hero rounded shadow" aria-label="Hero gallery">
      <div class="slides" id="slides" role="region">
        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1600&auto=format&fit=crop"
             alt="Golden liquid drop creating ripples" class="active">
        <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?q=80&w=1600&auto=format&fit=crop"
             alt="Forest river winding through landscape">
        <img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=1600&auto=format&fit=crop"
             alt="Golden liquid drop creating ripples">
        <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=1600&auto=format&fit=crop"
             alt="Forest river from above">
        <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1600&auto=format&fit=crop"
             alt="Forest landscape">
      </div>
      <button class="ctrl prev" aria-label="Previous slide" id="prev">â€¹</button>
      <button class="ctrl next" aria-label="Next slide" id="next">â€º</button>
      <div class="dots" id="dots" aria-label="Slide navigation"></div>
    </section>

    <!-- ADMIN STYLE CONTROLS -->
    <div class="panel">
      <h3>Dynamic Block Controls</h3>
      <p>These blocks must be dynamic and auto-resize - a small challenge!</p>
      
      <div class="control-group">
        <label>Style Preset:</label>
        <select id="stylePreset">
          <option value="">Default</option>
          <option value="style-modern">Modern</option>
          <option value="style-minimal">Minimal</option>
          <option value="style-glass">Glass</option>
          <option value="style-neon">Neon</option>
          <option value="style-gradient">Gradient</option>
          <option value="style-dark">Dark</option>
        </select>

        <label>Animation:</label>
        <select id="animation">
          <option value="">None</option>
          <option value="animate-bounce">Bounce</option>
          <option value="animate-pulse">Pulse</option>
          <option value="animate-rotate">Rotate</option>
        </select>

        <label>Corners:</label>
        <select id="corners">
          <option value="rounded">Rounded</option>
          <option value="">Square</option>
        </select>

        <label>Elevation:</label>
        <select id="elev">
          <option value="shadow">Shadow</option>
          <option value="flat">Flat</option>
        </select>
      </div>

      <div class="control-group">
        <label>Border:</label>
        <select id="border">
          <option value="no-border">No border</option>
          <option value="with-border">With border</option>
        </select>

        <label>Background:</label>
        <select id="bg">
          <option value="bg-image">Image</option>
          <option value="bg-solid">Solid</option>
          <option value="bg-gradient">Gradient</option>
        </select>

        <label><input type="checkbox" id="auto"> Auto-rotate hero</label>
        <label><input type="checkbox" id="showHandles"> Show resize handles</label>
        <label><input type="checkbox" id="enableDrag"> Enable drag & drop</label>
        <button type="button" id="resetAllCards" style="padding: 8px 16px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">Reset All Cards</button>
      </div>
      
      <p><strong>Admin Note:</strong> Can add pictures background or flat or solid color or gradient other things as admin and these can be discussed. <strong>Tip:</strong> Double-click any card to reset its size to auto.</p>
    </div>

    <!-- DYNAMIC GRID -->
    <section class="grid" id="grid">
      <!-- Each .card auto-resizes via CSS grid (auto-fit/minmax) -->
      <article class="card rounded shadow no-border bg-image resizable draggable" style="background-image:url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop')">
        <span class="tag">Innovation</span>
        <a href="#" class="cta">Read More</a>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
        <div class="resize-handle e"></div>
        <div class="resize-handle w"></div>
        <div class="resize-handle n"></div>
        <div class="resize-handle s"></div>
      </article>

      <article class="card rounded shadow no-border bg-image resizable draggable" style="background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop')">
        <span class="tag">Automation</span>
        <a href="#" class="cta">Read More</a>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
        <div class="resize-handle e"></div>
        <div class="resize-handle w"></div>
        <div class="resize-handle n"></div>
        <div class="resize-handle s"></div>
      </article>

      <article class="card rounded shadow no-border bg-image resizable draggable" style="background-image:url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=1200&auto=format&fit=crop')">
        <span class="tag">Analytics</span>
        <a href="#" class="cta">Read More</a>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
        <div class="resize-handle e"></div>
        <div class="resize-handle w"></div>
        <div class="resize-handle n"></div>
        <div class="resize-handle s"></div>
      </article>

      <article class="card rounded shadow no-border bg-image resizable draggable" style="background-image:url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop')">
        <span class="tag">Analytics</span>
        <a href="#" class="cta">Read More</a>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
        <div class="resize-handle e"></div>
        <div class="resize-handle w"></div>
        <div class="resize-handle n"></div>
        <div class="resize-handle s"></div>
      </article>

      <article class="card rounded shadow no-border bg-image resizable draggable" style="background-image:url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6?q=80&w=1200&auto=format&fit=crop')">
        <span class="tag">Analytics</span>
        <a href="#" class="cta">Read More</a>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
        <div class="resize-handle e"></div>
        <div class="resize-handle w"></div>
        <div class="resize-handle n"></div>
        <div class="resize-handle s"></div>
      </article>

      <article class="card rounded shadow with-border bg-solid flat-style draggable">
        <span class="tag">Flat</span>
        <a href="#" class="cta">Learn More</a>
      </article>
    </section>

    <footer>Â© 2025 HoneyCo. All rights reserved.</footer>
  </div>

  <script>
    // ----- HERO CAROUSEL -----
    const slides = [...document.querySelectorAll('#slides > img')];
    const dotsWrap = document.getElementById('dots');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    let idx = 0, timer = null;

    function renderDots(){
      dotsWrap.innerHTML = '';
      slides.forEach((_, i) => {
        const b = document.createElement('button');
        b.className = 'dot' + (i===idx ? ' active' : '');
        b.setAttribute('aria-label', `Go to slide ${i+1}`);
        b.onclick = () => { idx = i; update(); };
        dotsWrap.appendChild(b);
      });
    }
    function update(){
      slides.forEach((s,i)=> s.classList.toggle('active', i===idx));
      dotsWrap.querySelectorAll('.dot').forEach((d,i)=> d.classList.toggle('active', i===idx));
    }
    function move(d){ idx = (idx + d + slides.length) % slides.length; update(); }
    prev.onclick = () => move(-1);
    next.onclick = () => move(1);
    renderDots(); update();

    // Optional auto-rotate
    const autoToggle = document.getElementById('auto');
    autoToggle.addEventListener('change', e=>{
      clearInterval(timer);
      if(e.target.checked){ timer = setInterval(()=>move(1), 3500); }
    });

    // ----- ENHANCED ADMIN STYLE CONTROLS -----
    const grid = document.getElementById('grid');
    const selects = {
      stylePreset: document.getElementById('stylePreset'),
      animation: document.getElementById('animation'),
      corners: document.getElementById('corners'),
      elev: document.getElementById('elev'),
      border: document.getElementById('border'),
      bg: document.getElementById('bg')
    };

    function apply(){
      const cards = grid.querySelectorAll('.card');
      cards.forEach(c=>{
        // reset all style classes
        c.classList.remove('rounded','shadow','flat','with-border','no-border','bg-image','bg-solid','bg-gradient',
          'style-modern','style-minimal','style-glass','style-neon','style-gradient','style-dark',
          'animate-bounce','animate-pulse','animate-rotate');
        
        // apply current selections
        if(selects.stylePreset.value) c.classList.add(selects.stylePreset.value);
        if(selects.animation.value) c.classList.add(selects.animation.value);
        if(selects.corners.value) c.classList.add(selects.corners.value);
        if(selects.elev.value) c.classList.add(selects.elev.value);
        if(selects.border.value) c.classList.add(selects.border.value);
        if(selects.bg.value) c.classList.add(selects.bg.value);
      });
    }
    Object.values(selects).forEach(el=> el.addEventListener('change', apply));
    apply(); // initial

    // ----- ENHANCED DYNAMIC RESIZING -----
    let isResizing = false;
    let currentCard = null;
    let startX, startY, startWidth, startHeight, resizeDirection = '';

    function initResizeHandles() {
      const resizeHandles = document.querySelectorAll('.resize-handle');
      resizeHandles.forEach(handle => {
        handle.addEventListener('mousedown', startResize);
      });
    }

    function startResize(e) {
      e.preventDefault();
      e.stopPropagation();
      isResizing = true;
      currentCard = e.target.closest('.card');
      resizeDirection = e.target.className.split(' ')[1]; // Get direction from class
      startX = e.clientX;
      startY = e.clientY;
      
      // Add manually-resized class to override grid behavior
      currentCard.classList.add('manually-resized');
      
      // Get current dimensions
      const rect = currentCard.getBoundingClientRect();
      startWidth = rect.width;
      startHeight = rect.height;
      
      document.addEventListener('mousemove', doResize);
      document.addEventListener('mouseup', stopResize);
    }

    function doResize(e) {
      if (!isResizing || !currentCard) return;
      
      let newWidth = startWidth;
      let newHeight = startHeight;
      
      // Calculate new dimensions based on resize direction
      if (resizeDirection.includes('e')) {
        newWidth = startWidth + e.clientX - startX;
      }
      if (resizeDirection.includes('w')) {
        newWidth = startWidth - (e.clientX - startX);
      }
      if (resizeDirection.includes('s')) {
        newHeight = startHeight + e.clientY - startY;
      }
      if (resizeDirection.includes('n')) {
        newHeight = startHeight - (e.clientY - startY);
      }
      
      // Set minimum and maximum sizes
      const minWidth = 150;
      const maxWidth = 500;
      const minHeight = 100;
      const maxHeight = 400;
      
      newWidth = Math.min(Math.max(newWidth, minWidth), maxWidth);
      newHeight = Math.min(Math.max(newHeight, minHeight), maxHeight);
      
      // Apply the new dimensions
      currentCard.style.width = newWidth + 'px';
      currentCard.style.height = newHeight + 'px';
      
      // Force a reflow to ensure the changes take effect
      currentCard.offsetHeight;
    }

    function stopResize() {
      isResizing = false;
      currentCard = null;
      resizeDirection = '';
      document.removeEventListener('mousemove', doResize);
      document.removeEventListener('mouseup', stopResize);
    }

    // ----- DRAG & DROP FUNCTIONALITY -----
    let draggedElement = null;
    let dragOverElement = null;

    function initDragDrop() {
      const draggableCards = document.querySelectorAll('.draggable');
      draggableCards.forEach(card => {
        card.draggable = true;
        card.addEventListener('dragstart', handleDragStart);
        card.addEventListener('dragend', handleDragEnd);
        card.addEventListener('dragover', handleDragOver);
        card.addEventListener('drop', handleDrop);
        card.addEventListener('dragenter', handleDragEnter);
        card.addEventListener('dragleave', handleDragLeave);
      });
    }

    function handleDragStart(e) {
      draggedElement = e.target;
      e.target.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
    }

    function handleDragEnd(e) {
      e.target.classList.remove('dragging');
      if (dragOverElement) {
        dragOverElement.classList.remove('drag-over');
        dragOverElement = null;
      }
    }

    function handleDragOver(e) {
      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
    }

    function handleDragEnter(e) {
      e.preventDefault();
      if (e.target.classList.contains('draggable') && e.target !== draggedElement) {
        dragOverElement = e.target;
        e.target.classList.add('drag-over');
      }
    }

    function handleDragLeave(e) {
      if (e.target.classList.contains('draggable')) {
        e.target.classList.remove('drag-over');
        dragOverElement = null;
      }
    }

    function handleDrop(e) {
      e.preventDefault();
      if (e.target.classList.contains('draggable') && e.target !== draggedElement) {
        const parent = e.target.parentNode;
        const nextSibling = e.target.nextSibling;
        
        if (nextSibling) {
          parent.insertBefore(draggedElement, nextSibling);
        } else {
          parent.appendChild(draggedElement);
        }
      }
    }

    // ----- INITIALIZATION -----
    initResizeHandles();
    initDragDrop();
    initCardReset();

    // Show/hide resize handles toggle
    const showHandlesToggle = document.getElementById('showHandles');
    showHandlesToggle.addEventListener('change', (e) => {
      const handles = document.querySelectorAll('.resize-handle');
      handles.forEach(handle => {
        handle.style.display = e.target.checked ? 'flex' : 'none';
      });
    });

    // Enable/disable drag & drop
    const enableDragToggle = document.getElementById('enableDrag');
    enableDragToggle.addEventListener('change', (e) => {
      const draggableCards = document.querySelectorAll('.draggable');
      draggableCards.forEach(card => {
        card.draggable = e.target.checked;
        card.style.cursor = e.target.checked ? 'move' : 'pointer';
      });
    });

    // Reset all cards functionality
    const resetAllCardsBtn = document.getElementById('resetAllCards');
    resetAllCardsBtn.addEventListener('click', () => {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        resetCardToAuto(card);
      });
    });

    // Function to reset card to auto-sizing
    function resetCardToAuto(card) {
      card.classList.remove('manually-resized');
      card.style.width = '';
      card.style.height = '';
    }
    
    // Auto-resize cards on window resize for better responsiveness
    window.addEventListener('resize', () => {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        // Only reset if the card hasn't been manually resized
        if (!card.classList.contains('manually-resized')) {
          card.style.width = '';
          card.style.height = '';
        }
      });
    });
    
    // Add double-click to reset card size
    function initCardReset() {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.addEventListener('dblclick', (e) => {
          if (e.target === card || e.target.closest('.card') === card) {
            resetCardToAuto(card);
          }
        });
      });
    }

    // Add smooth transitions for all cards
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
      });
    });
  </script>
</body>
</html>
